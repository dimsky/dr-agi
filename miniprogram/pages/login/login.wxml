<!--pages/login/login.wxml-->
<view class="login-container">
  <view class="login-card">
    <!-- Logo -->
    <view class="logo">
      🏥
    </view>
    
    <!-- 应用名称 -->
    <view class="app-name">医疗服务平台</view>
    
    <!-- 应用描述 -->
    <view class="app-desc">
      智能医疗服务，专业健康管理
      为您提供便捷的医疗咨询服务
    </view>
    
    <!-- 登录按钮区域 -->
    <view class="login-buttons">
      <!-- 手机号授权登录按钮（推荐） -->
      <button 
        class="login-btn primary {{isLoading && loginType === 'withPhone' ? 'loading' : ''}}"
        open-type="getPhoneNumber"
        bindgetphonenumber="onLoginWithPhone"
        disabled="{{isLoading}}"
      >
        <view class="btn-content">
          <view class="btn-icon">📱</view>
          <view class="btn-text">
            <text wx:if="{{!(isLoading && loginType === 'withPhone')}}">手机号快速登录</text>
            <text wx:else class="loading-text">正在授权中...</text>
          </view>
          <view class="btn-tag">推荐</view>
        </view>
      </button>

      <!-- 普通微信登录按钮 -->
      <button 
        class="login-btn secondary {{isLoading && loginType === 'normal' ? 'loading' : ''}}"
        bindtap="onLogin"
        disabled="{{isLoading}}"
      >
        <view class="btn-content">
          <view class="btn-icon">💚</view>
          <view class="btn-text">
            <text wx:if="{{!(isLoading && loginType === 'normal')}}">微信登录</text>
            <text wx:else class="loading-text">登录中...</text>
          </view>
        </view>
      </button>
    </view>

    <!-- 登录方式说明 -->
    <view class="login-tips">
      <view class="tip-item">
        <text class="tip-icon">📱</text>
        <text class="tip-text">手机号登录：更安全，享受更多服务</text>
      </view>
      <view class="tip-item">
        <text class="tip-icon">💚</text>
        <text class="tip-text">微信登录：快速登录，基础功能</text>
      </view>
    </view>

    <!-- 隐私协议 -->
    <view class="privacy-notice">
      点击登录即表示同意
      <text class="privacy-link" bindtap="onPrivacyTap">《隐私协议》</text>
      和
      <text class="privacy-link" bindtap="onTermsTap">《服务条款》</text>
    </view>
  </view>
</view>