<view class="wechat-auth-container">
  <view wx:if="{{!isLoggedIn}}" class="login-section">
    <view class="login-header">
      <image src="/images/wechat-logo.png" class="wechat-logo" mode="aspectFit"></image>
      <text class="welcome-text">欢迎使用医疗服务平台</text>
      <text class="subtitle">请授权登录以获得完整服务</text>
    </view>
    
    <view class="login-actions">
      <button 
        class="login-btn {{isLoading ? 'loading' : ''}}"
        bindtap="handleWeChatLogin"
        disabled="{{isLoading}}"
        loading="{{isLoading}}"
      >
        {{isLoading ? '登录中...' : '一键微信登录'}}
      </button>
      
      <view class="privacy-notice">
        <text>登录即表示同意</text>
        <text class="link" bindtap="showPrivacyPolicy">《隐私政策》</text>
        <text>和</text>
        <text class="link" bindtap="showUserAgreement">《用户协议》</text>
      </view>
    </view>
  </view>

  <view wx:else class="user-info-section">
    <view class="user-avatar">
      <image src="{{userInfo.avatarUrl}}" class="avatar" mode="aspectFill"></image>
    </view>
    <view class="user-details">
      <text class="nickname">{{userInfo.nickname}}</text>
      <text class="welcome-back">欢迎回来！</text>
    </view>
    <button class="logout-btn" bindtap="handleLogout">退出登录</button>
  </view>
</view>